--- a/drivers/net/wireless/rt2x00/rt2800soc.c	2015-08-07 22:08:04.000000000 +0300
+++ b/drivers/net/wireless/rt2x00/rt2800soc.c	2015-08-17 18:03:10.769700535 +0300
@@ -241,11 +241,19 @@
 	return rt2x00soc_probe(pdev, &rt2800soc_ops);
 }
 
+static const struct of_device_id rt2880_wmac_match[] = {
+	{ .compatible = "ralink,rt2880-wmac" },
+	{},
+};
+
+MODULE_DEVICE_TABLE(of, rt2880_wmac_match);
+
 static struct platform_driver rt2800soc_driver = {
 	.driver		= {
 		.name		= "rt2800_wmac",
 		.owner		= THIS_MODULE,
 		.mod_name	= KBUILD_MODNAME,
+		.of_match_table = rt2880_wmac_match,
 	},
 	.probe		= rt2800soc_probe,
 	.remove		= rt2x00soc_remove,
