diff -ur procd-2016-07-29.old/initd/early.c procd-2016-07-29/initd/early.c
--- procd-2016-07-29.old/initd/early.c	2017-10-17 18:18:46.000000000 +0300
+++ procd-2016-07-29/initd/early.c	2017-10-17 18:23:48.182328591 +0300
@@ -58,21 +58,13 @@
 	mount("proc", "/proc", "proc", MS_NOATIME | MS_NODEV | MS_NOEXEC | MS_NOSUID, 0);
 	mount("sysfs", "/sys", "sysfs", MS_NOATIME | MS_NODEV | MS_NOEXEC | MS_NOSUID, 0);
 	mount("cgroup", "/sys/fs/cgroup", "cgroup",  MS_NODEV | MS_NOEXEC | MS_NOSUID, 0);
-	mount("tmpfs", "/dev", "tmpfs", MS_NOATIME | MS_NOSUID, "mode=0755,size=512K");
-	ignore(symlink("/tmp/shm", "/dev/shm"));
+
+ 	mkdir("/dev/shm", 01777);
 	mkdir("/dev/pts", 0755);
 	mount("devpts", "/dev/pts", "devpts", MS_NOATIME | MS_NOEXEC | MS_NOSUID, "mode=600");
 	early_dev();
 
 	early_console("/dev/console");
-	if (mount_zram_on_tmp()) {
-		mount("tmpfs", "/tmp", "tmpfs", MS_NOSUID | MS_NODEV | MS_NOATIME, 0);
-		mkdir("/tmp/shm", 01777);
-	} else {
-		mkdir("/tmp/shm", 01777);
-		mount("tmpfs", "/tmp/shm", "tmpfs", MS_NOSUID | MS_NODEV | MS_NOATIME,
-				"mode=01777");
-	}
 	mkdir("/tmp/run", 0755);
 	mkdir("/tmp/lock", 0755);
 	mkdir("/tmp/state", 0755);
diff -ur procd-2016-07-29.old/plug/coldplug.c procd-2016-07-29/plug/coldplug.c
--- procd-2016-07-29.old/plug/coldplug.c	2017-10-17 18:18:46.000000000 +0300
+++ procd-2016-07-29/plug/coldplug.c	2017-10-17 18:18:46.512306437 +0300
@@ -44,9 +44,7 @@
 	unsigned int oldumask = umask(0);
 
 	umount2("/dev/pts", MNT_DETACH);
-	umount2("/dev/", MNT_DETACH);
-	mount("tmpfs", "/dev", "tmpfs", MS_NOSUID, "mode=0755,size=512K");
-	ignore(symlink("/tmp/shm", "/dev/shm"));
+ 	mkdir("/dev/shm", 01777);
 	mkdir("/dev/pts", 0755);
 	umask(oldumask);
 	mount("devpts", "/dev/pts", "devpts", MS_NOEXEC | MS_NOSUID, 0);
